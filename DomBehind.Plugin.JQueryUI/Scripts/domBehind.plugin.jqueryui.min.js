var __extends,DomBehind;(function(n){var t;(function(t){var i=function(){function t(){this._engaged=!1}return t.Register=function(n){var t=n.Element,i=t.data("native-menu");String.IsNullOrWhiteSpace(i)&&t.data("native-menu","false")},t.Rebuild=function(n,i){var u=i.ToArray(),r,e,f,o;return u.SequenceEqual(i.__oldArray)?!1:(n.empty(),r=n.data("menu_identity"),r||(r="menu_"+NewUid(),n.data("menu_identity",r)),e=i.__oldArray,i.__oldArray=u,f=0,o=u.Select(function(t){var e,u;return Object.IsNullOrUndefined(t)?null:(t.recid=r+"_"+ ++f,e=i.DisplayMemberPath?t[i.DisplayMemberPath]:t.toString(),u={id:t.recid,text:e,obj:t},n.append('<option value="'+u.id+'">'+u.text+"<\/option>"),u)}),t.UpdateCurrent(n,i),!0)},t.UpdateCurrent=function(n,t){var i=n.selectmenu(),r;t.Current!=null&&(r=t.Current.recid,i.val(r));i.selectmenu("refresh")},t.prototype.OnCurrentChanged=function(n,i){if(!this._engaged){var u=n.__widget,r=u.Element;String.IsNullOrWhiteSpace(i.Name)?t.Rebuild(r,n):i.Name==="Current"&&t.UpdateCurrent(r,n)}},t.IsEnabledProperty=n.Data.DependencyProperty.RegisterAttached("_disabled",function(){},function(t,i){if(!Object.IsNullOrUndefined(t)){var r=t.attr("selectMenu_oldIsEnabled"),u=r==="false"?!1:!0;try{t.attr("selectMenu_oldIsEnabled",i);t.selectmenu("option","disabled",i===!1)}catch(f){t.attr("_disabled",i===!1?"true":"false")}i!==u&&n.UIElement.RaiseEnabledChanged(t,i)}},n.Data.UpdateSourceTrigger.Explicit,n.Data.BindingMode.OneWay),t.ItemsSourceProperty=n.Data.DependencyProperty.RegisterAttached("itemsSource",function(){},function(i,r){var u,f,e;if(r instanceof n.Data.ListCollectionView){if(!t.Rebuild(i,r))return;u=r.__widget;u||(u=r.__widget=new t);f=!1;i.attr("_disabled")==="true"&&(f=!0);e={change:function(){var t=i.val(),f,r,e;u._engaged=!0;try{u.Items&&(Object.IsNullOrUndefined(t)||t==="undefined"?(f=i.find(":selected").text(),r=new n.CancelEventArgs(!1),u.Items.CurrentChanging.Raise(u.Items,r),r.Cancel||(u.Items.Begin(),u.Items.Current=f,u.Items.End(),u.Items.CurrentChanged.Raise(u.Items,new n.PropertyChangedEventArgs("Current")))):(e=u.Items.ToArray().FirstOrDefault(function(n){return n.recid===t}),u.Items.Select(e)))}finally{u._engaged=!1}},classes:{"ui-selectmenu-menu":"jqueryui-highlight"}};f&&(e.disabled=!0);u.Element=i.selectmenu(e);u.Element.selectmenu("refresh");u.Items=r;r.PropertyChanged.RemoveHandler(u.OnCurrentChanged);r.PropertyChanged.AddHandler(u.OnCurrentChanged)}},n.Data.UpdateSourceTrigger.Explicit,n.Data.BindingMode.OneWay,function(n){t.Register(n)}),t}();t.Selectmenu=i})(t=n.Controls||(n.Controls={}))})(DomBehind||(DomBehind={})),function(n){var t;(function(t){var i=function(){function t(){}return t.TextProperty=n.Data.DependencyProperty.RegisterAttached("title",function(n){return n.attr("title")},function(n,t){var r=n,i;n.attr("type")==="checkbox"?(i=n.closest("label"),i.tooltip(),i.attr("title",t)):(n.tooltip(),n.attr("title",t))},n.Data.UpdateSourceTrigger.Explicit,n.Data.BindingMode.OneWay),t}();t.Tooltip=i})(t=n.Controls||(n.Controls={}))}(DomBehind||(DomBehind={}));__extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t,i;(function(n){n[n.Google=0]="Google";n[n.Amazon=1]="Amazon";n[n.Array=2]="Array";n[n.Custom=3]="Custom"})(t=n.SuggestSource||(n.SuggestSource={}));i=function(n){function i(){var i=n.call(this)||this;return i.Source=t.Google,i}return __extends(i,n),i.prototype.Ensure=function(){var n=this,i;this.Source===t.Google?this.CustomSource=function(n,t){$.ajax({url:"http://www.google.com/complete/search",data:{hl:"ja",client:"firefox",q:n.term},dataType:"jsonp",type:"GET",success:function(n){t(n[1])}})}:this.Source===t.Amazon?this.CustomSource=function(n,t){$.ajax({url:"http://completion.amazon.co.jp/search/complete",data:{mkt:"6",method:"completion","search-alias":"aps",q:n.term},dataType:"jsonp",type:"GET",success:function(n){t(n[1])}})}:this.Source==t.Array&&(this.CustomSource=function(t,i){i(n.Option.array.Where(function(n){return n.StartsWith(t.term)}))});i=this.Element.autocomplete({source:function(t,i){return n.CustomSource(t,i)},delay:this.Delay,minLength:this.Option.minLength});this.Option&&this.Option.isShow&&this.Element.focusin(function(){n.Element.autocomplete("search",n.Element.val())})},i}(n.Data.BindingBehavior);n.Suggest=i;n.BindingBehaviorBuilder.prototype.BuildSuggest=function(n,t,r){var f=this,u=f.Add(new i);return n&&(u.Source=n),t&&(u.Delay=t),r&&(u.Option=r),f}}(DomBehind||(DomBehind={}));
//# sourceMappingURL=domBehind.plugin.jqueryui.min.js.map